# 日志分析器项目计划

## 项目概述
日志分析器是一个用于分析和管理日志数据的Web应用，支持客户端日志和操作日志的查看、过滤和分析。

## 核心功能

### 1. 日志池查看 (LogPoolView)
- **基础功能**: 展示合并后的客户端日志和操作日志
- **编辑器**: 使用Monaco编辑器提供语法高亮和代码编辑功能
- **全屏模式**: 支持全屏查看，提升大日志文件的阅读体验
- **过滤功能**: 
  - 时间范围过滤：支持按时间范围筛选日志条目
  - 数量限制：支持1000条、2000条、5000条、10000条和不限制等选项
  - 实时统计：显示原始条目数和过滤后条目数
- **统计信息**: 显示总行数、当前可见区间、可见行数等统计信息
- **性能优化**: 使用双指针算法高效合并有序日志数组

### 2. 日志解析功能
- **右键菜单**: 支持解析选中的日志内容
- **粘贴对话框**: 提供日志内容粘贴和解析功能
- **语法高亮**: 自定义日志语法高亮主题，支持时间戳、UUID、日志级别、方法名等元素的高亮显示

### 3. 客户端日志分析
- **多维度过滤**: 支持按账户、算法、篮子、条件、融资、基金、IPO、订单、持仓、统计、交易等维度过滤
- **实时搜索**: 提供快速搜索和过滤功能

### 4. 操作日志分析
- **操作记录**: 查看系统操作日志
- **时间排序**: 按时间顺序展示操作记录

## 技术架构

### 前端技术栈
- **框架**: Vue 3 + TypeScript
- **样式**: Tailwind CSS
- **编辑器**: Monaco Editor
- **状态管理**: Pinia
- **构建工具**: Vite

### 后端技术栈
- **框架**: Python Flask
- **API**: RESTful API设计
- **日志处理**: 自定义日志解析器

### 数据流
1. 前端通过API获取日志数据
2. 使用composable进行数据处理和状态管理
3. 通过computed属性实现响应式数据过滤
4. Monaco编辑器展示处理后的日志内容

## 性能优化策略
- **双指针合并**: 高效合并两个有序日志数组
- **响应式过滤**: 使用computed属性避免重复计算
- **虚拟滚动**: 大文件支持虚拟滚动优化
- **懒加载**: 按需加载日志数据

## 用户体验设计
- **现代化UI**: 使用Tailwind CSS实现简洁美观的界面
- **响应式设计**: 适配不同屏幕尺寸
- **快捷键支持**: ESC键退出全屏等快捷操作
- **实时反馈**: 过滤条件变更时实时更新显示结果

## 开发规范
- **TypeScript**: 严格类型检查，提高代码质量
- **组件化**: 模块化组件设计，便于维护和复用
- **文档化**: 及时更新changelog和项目文档
- **测试**: 关键功能需要单元测试覆盖

