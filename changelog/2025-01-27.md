# 2025-01-27 更新日志

## 新增功能

### 🌟 全局搜索功能
- **快捷键支持**: 新增 `Ctrl+K` 快捷键，可在应用的任何地方快速打开搜索框
- **智能搜索**: 实现基于标题、描述、关键词、分类的模糊搜索匹配
- **可配置搜索项**: 支持动态注册和移除搜索项，每个搜索项可配置执行动作
- **全局可用**: 搜索功能集成在 App.vue 中，全局范围内可用
- **美观界面**: 使用 Tailwind CSS 实现的现代化悬浮搜索框，支持键盘导航

### 🎯 模块弹窗系统
- **弹窗显示**: 创建通用弹窗组件，支持以弹窗形式显示客户端日志过滤器的各个模块
- **模块管理**: 实现模块管理器，统一管理12个过滤模块的元数据和组件引用
- **全局搜索集成**: 所有模块自动注册到全局搜索中，支持关键词搜索快速打开
- **响应式设计**: 弹窗支持不同屏幕尺寸，移动端友好
- **键盘支持**: 支持 ESC 键快速关闭弹窗

### 🔧 技术实现
- **GlobalSearch.vue**: 创建全局搜索组件，包含搜索框、结果列表和状态管理
- **ModuleDialog.vue**: 创建通用弹窗组件，支持动态组件渲染和属性传递
- **useModuleManager.ts**: 实现模块管理器组合式函数，管理模块注册和搜索
- **useGlobalSearch.ts**: 实现全局搜索组合式函数，管理搜索项注册和快捷键绑定
- **types/search.ts**: 定义搜索相关的 TypeScript 接口和类型
- **依赖注入**: 通过 Vue 3 的 provide/inject 机制，为子组件提供搜索和模块管理方法

### 📱 用户体验
- **键盘导航**: 支持方向键选择、Enter 确认、ESC 关闭等快捷键操作
- **实时搜索**: 输入时实时显示搜索结果，支持高亮匹配的关键词
- **分类标签**: 搜索结果支持分类显示，便于用户快速识别
- **响应式设计**: 搜索框和弹窗都适配不同屏幕尺寸，移动端友好

### 🎯 默认搜索项
- **导航功能**: 首页、客户端日志、操作日志、日志粘贴、日志池
- **业务功能**: 资金账户请求数据、算法分析等示例搜索项
- **过滤模块**: 12个客户端日志过滤模块（过滤器、条件、算法、篮子、可融资、交易、统计、账户、基金、IPO、订单、持仓）
- **可扩展**: 支持在运行时动态添加和移除搜索项

## 技术细节

### 依赖更新
- 新增 `hotkeys-js` 插件，用于快捷键注册和管理

### 架构设计
- 采用组合式函数模式，实现逻辑复用和状态管理
- 使用 TypeScript 严格类型检查，提高代码质量
- 遵循 Vue 3 Composition API 最佳实践
- 模块化设计，支持动态组件渲染和属性传递

### 性能优化
- 搜索结果按匹配度排序，提升用户体验
- 支持最大结果数量限制，避免性能问题
- 搜索延迟处理，减少不必要的计算
- 弹窗组件支持懒加载和事件清理

## 使用方法

### 全局搜索
1. **基本使用**: 按 `Ctrl+K` 打开搜索框
2. **搜索操作**: 输入关键词进行搜索，支持模糊匹配
3. **选择结果**: 使用方向键或鼠标选择搜索结果
4. **注册搜索项**: 通过 `registerSearchItem` 方法添加新的搜索项

### 模块弹窗
1. **通过搜索**: 在全局搜索中输入模块名称或关键词
2. **直接调用**: 使用 `openModule(moduleId)` 方法
3. **依赖注入**: 在子组件中注入 `openModule` 方法

## 模块列表

系统预置了以下12个过滤模块：

- **过滤器面板**: 配置和管理日志过滤规则
- **条件面板**: 设置日志过滤的复杂条件
- **算法面板**: 管理和配置算法相关的过滤条件
- **篮子面板**: 配置篮子相关的过滤条件
- **可融资面板**: 设置可融资相关的过滤条件
- **交易面板**: 配置交易相关的过滤条件
- **统计面板**: 查看和分析日志统计信息
- **账户面板**: 管理账户相关的过滤条件
- **基金面板**: 配置基金相关的过滤条件
- **IPO面板**: 设置IPO相关的过滤条件
- **订单面板**: 管理订单相关的过滤条件
- **持仓面板**: 配置持仓相关的过滤条件

## 后续计划

- [ ] 添加搜索历史记录功能
- [ ] 实现搜索建议和自动完成
- [ ] 支持高级筛选和排序选项
- [ ] 添加搜索结果的收藏功能
- [ ] 优化移动端搜索体验
- [ ] 支持模块弹窗的拖拽和调整大小
- [ ] 添加模块使用统计和推荐功能
- [ ] 实现模块配置的保存和恢复 